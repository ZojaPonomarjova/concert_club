"use strict";(self["webpackChunkconcert_club"]=self["webpackChunkconcert_club"]||[]).push([[425],{2425:function(e,t,o){o.r(t),o.d(t,{default:function(){return M}});var s=o(3396),n=o(7139);const c=e=>((0,s.dD)("data-v-f3865270"),e=e(),(0,s.Cn)(),e),m={class:"main"},a={class:"chosen-post-section"},r={key:0,class:"section-title chosen-post-section-posts-title"},i={class:"chosen-post-section-text"},l={key:1,class:"section-title chosen-post-section-posts-subtitle"},d={key:2,class:"chosen-post-section-container"},h={class:"chosen-post-section-error"},u={key:3,class:"chosen-post-section-add-comment"},C={key:0,class:"add-comment-success"},p={key:1,class:"add-comment-container"},g=c((()=>(0,s._)("div",null,[(0,s._)("div",{class:"leftright"}),(0,s._)("div",{class:"rightleft"}),(0,s._)("span",{class:"close-btn"},"закрыть")],-1))),k=[g],_=c((()=>(0,s._)("label",{for:"addCommentEmail",class:"add-comment-label"},"Напишите e-mail",-1))),v={class:"email-error"},w=c((()=>(0,s._)("label",{for:"addCommentName",class:"add-comment-label"},"Напишите название",-1))),x=c((()=>(0,s._)("input",{type:"text",class:"add-comment-input",id:"addCommentName",placeholder:"Напишите название"},null,-1))),b=c((()=>(0,s._)("textarea",{name:"addComment",id:"addCommentTextarea",class:"add-comment-textarea",placeholder:"Напишите свой комментарий"},null,-1))),T={class:"add-comment-error"};function z(e,t,o,c,g,z){const P=(0,s.up)("CommentComponent"),E=(0,s.up)("ClockLoader"),f=(0,s.up)("ButtonComponent");return(0,s.wg)(),(0,s.iD)("main",m,[(0,s._)("div",a,[z.chosenPost?((0,s.wg)(),(0,s.iD)("h4",r,(0,n.zw)(z.chosenPost.title),1)):(0,s.kq)("",!0),(0,s._)("p",i,(0,n.zw)(z.chosenPost.body),1),z.chosenPost?((0,s.wg)(),(0,s.iD)("h5",l," Комментарии ")):(0,s.kq)("",!0),z.chosenPost?((0,s.wg)(),(0,s.iD)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(z.comments,(e=>((0,s.wg)(),(0,s.j4)(P,{key:e.id,commentName:e.name,commentText:e.body,anotherClass:"",commentEmail:e.email},null,8,["commentName","commentText","commentEmail"])))),128)),z.isLoading&&!z.commentIsAdding?((0,s.wg)(),(0,s.j4)(E,{key:0})):(0,s.kq)("",!0),(0,s._)("div",h,(0,n.zw)(z.errorTextForCommentsLoading),1)])):(0,s.kq)("",!0),(0,s.Wm)(f,{buttonText:"Добавить комментарий",anotherClass:"chosen-post-section-button",onClick:e.handleClickAddComment},null,8,["onClick"]),z.commentIsAdding?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",null,[""!==z.successText?((0,s.wg)(),(0,s.iD)("div",C,(0,n.zw)(z.successText),1)):(0,s.kq)("",!0),""===z.successText?((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",{class:"cl-btn-2",onClick:t[0]||(t[0]=(...t)=>e.closeAddCommentMode&&e.closeAddCommentMode(...t))},k),_,(0,s._)("input",{type:"text",class:"add-comment-input",id:"addCommentEmail",placeholder:"Напишите e-mail",onChange:t[1]||(t[1]=(...e)=>z.checkEmail&&z.checkEmail(...e))},null,32),(0,s._)("div",v,(0,n.zw)(this.emailError),1),w,x,b,(0,s.Wm)(f,{buttonText:"Отправить",anotherClass:"chosen-post-section-button",onClick:e.handleClickSendComment,disabled:""!==g.emailError},null,8,["onClick","disabled"]),(0,s._)("div",T,(0,n.zw)(z.errorTextForComment),1)])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])])}const P={class:"chosen-post-comment-email"},E={class:"chosen-post-comment-name"},f={class:"chosen-post-comment-text"};function $(e,t,o,c,m,a){return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["chosen-post-comment-container",[o.anotherClass]])},[(0,s._)("p",P,(0,n.zw)(o.commentEmail),1),(0,s._)("p",E,(0,n.zw)(o.commentName),1),(0,s._)("p",f,(0,n.zw)(o.commentText),1)],2)}var y={name:"PostPreview",props:{commentName:String,commentText:String,anotherClass:String,commentEmail:String}},A=o(89);const D=(0,A.Z)(y,[["render",$],["__scopeId","data-v-85c127a8"]]);var L=D,S=o(8613),q=o(6106),I=o(65),N={name:"AboutView",components:{ButtonComponent:S.Z,CommentComponent:L,ClockLoader:q.Z},mounted(){this.$store.dispatch("getChosenPostComments"),this.$store.dispatch("closeAddCommentMode")},computed:{errorTextForComment(){return this.$store.getters.errorTextForComment},chosenPost(){const e=this.checkCosenPost();return e},isLoading(){return this.$store.getters.isLoading},comments(){return this.$store.getters.comments},commentIsAdding(){return this.$store.getters.commentIsAdding},successText(){return this.$store.getters.successText},errorTextForCommentsLoading(){return this.$store.getters.errorTextForCommentsLoading}},data(){return{emailError:""}},methods:{...(0,I.nv)({handleClickOnPostCard:"getChosenPost",handleClickAddComment:"addComment",handleClickSendComment:"sendComment",closeAddCommentMode:"closeAddCommentMode"}),checkEmail(e){const t=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;e.target.value.match(t)?this.emailError="":this.emailError="Проверьте правильность написания адреса электронной почты."},checkCosenPost(){let e;return e=null===this.$store.getters.chosenPost?JSON.parse(sessionStorage.getItem("chosenPost")):this.$store.getters.chosenPost,e}}};const F=(0,A.Z)(N,[["render",z],["__scopeId","data-v-f3865270"]]);var M=F}}]);
//# sourceMappingURL=425.96727d88.js.map